<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->

<head>
	<script>
        if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
            window.location = "https://www.theperfectauthor.in/m/"; 
        }
    </script>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="description" content="The perfect author is a mythical fiction, web story.It is an  artistically creative novel about the best story of the best book written by the best author.">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>The Perfect Author - Story about an excellent story by best author</title>

	<link rel="manifest" href="manifest.json">

	<!-- Add to homescreen for Chrome on Android -->
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="application-name" content="Web Starter Kit">
	<link rel="icon" sizes="192x192" href="images/touch/chrome-touch-icon-192x192.png">

	<!-- Add to homescreen for Safari on iOS -->
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="apple-mobile-web-app-title" content="Web Starter Kit">
	<link rel="apple-touch-icon" href="images/touch/apple-touch-icon.png">

	<!-- Tile icon for Win8 (144x144 + tile color) -->
	<meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png">

	<meta name="theme-color" content="#222">

	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya+Sans+SC|Roboto:100,300,400,500" type="text/css">
	<!-- Material Design icons -->
	<!--<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">-->
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
		crossorigin="anonymous">

	<!-- Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-KQ4TMSF');</script>
	<!-- End Google Tag Manager -->
	<script type="text/javascript" src="./extras/jquery.min.1.7.js"></script>
	<script type="text/javascript" src="./extras/jquery-ui-1.8.20.custom.min.js"></script>
	<script type="text/javascript" src="./extras/jquery.mousewheel.min.js"></script>
	<script type="text/javascript" src="./extras/modernizr.2.5.3.min.js"></script>
	<script type="text/javascript" src="./lib/hash.js"></script>
</head>

<body>
	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KQ4TMSF"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->
	<div id="canvas">
	<div id="book-zoom">
		<div class="sj-book">
			<div depth="5" class="hard"><div class="leftshadow"></div><div class="rightshadow"></div> <div class="side"></div> </div>
			<div depth="5" class="hard front-side"><div class="leftshadow"></div><div class="rightshadow"></div><div class="depth"></div> </div>
			<div class="own-size"> <div class="leftshadow"></div></div>
			<div class="own-size even"><div class="rightshadow"></div></div>
			<div class="hard fixed back-side p111"><div class="leftshadow"></div><div class="rightshadow"></div><div class="depth"></div> </div>
			<div class="hard p112"><div class="leftshadow"></div><div class="rightshadow"></div> </div>
		</div>
	</div>
	<div id="slider-bar" class="turnjs-slider">
		<div id="slider"></div>
	</div>
</div>


	<script type="text/javascript">
		function loadApp() {

			var flipbook = $('.sj-book');

			// Check if the CSS was already loaded

			if (flipbook.width() == 0 || flipbook.height() == 0) {
				setTimeout(loadApp, 10);
				return;
			}

			// Mousewheel

			$('#book-zoom').mousewheel(function (event, delta, deltaX, deltaY) {

				var data = $(this).data(),
					step = 30,
					flipbook = $('.sj-book'),
					actualPos = $('#slider').slider('value') * step;

				if (typeof (data.scrollX) === 'undefined') {
					data.scrollX = actualPos;
					data.scrollPage = flipbook.turn('page');
				}

				data.scrollX = Math.min($("#slider").slider('option', 'max') * step,
					Math.max(0, data.scrollX + deltaX));

				var actualView = Math.round(data.scrollX / step),
					page = Math.min(flipbook.turn('pages'), Math.max(1, actualView * 2 - 2));

				if ($.inArray(data.scrollPage, flipbook.turn('view', page)) == -1) {
					data.scrollPage = page;
					flipbook.turn('page', page);
				}

				if (data.scrollTimer)
					clearInterval(data.scrollTimer);

				data.scrollTimer = setTimeout(function () {
					data.scrollX = undefined;
					data.scrollPage = undefined;
					data.scrollTimer = undefined;
				}, 1000);

			});

			// Slider

			$("#slider").slider({
				min: 1,
				max: 100,

				start: function (event, ui) {

					if (!window._thumbPreview) {
						_thumbPreview = $('<div />', { 'class': 'thumbnail' }).html('<div></div>');
						setPreview(ui.value);
						_thumbPreview.appendTo($(ui.handle));
					} else
						setPreview(ui.value);

					moveBar(false);

				},

				slide: function (event, ui) {

					setPreview(ui.value);

				},

				stop: function () {

					if (window._thumbPreview)
						_thumbPreview.removeClass('show');

					$('.sj-book').turn('page', Math.max(1, $(this).slider('value') * 2 - 2));

				}
			});


			// URIs

			Hash.on('^page\/([0-9]*)$', {
				yep: function (path, parts) {

					var page = parts[1];

					if (page !== undefined) {
						if ($('.sj-book').turn('is'))
							$('.sj-book').turn('page', page);
					}

				},
				nop: function (path) {

					if ($('.sj-book').turn('is'))
						$('.sj-book').turn('page', 1);
				}
			});

			// Arrows

			$(document).keydown(function (e) {

				var previous = 37, next = 39;

				switch (e.keyCode) {
					case previous:

						$('.sj-book').turn('previous');

						break;
					case next:

						$('.sj-book').turn('next');

						break;
				}

			});


			// Flipbook

			flipbook.bind(($.isTouch) ? 'touchend' : 'click', zoomHandle);

			flipbook.turn({
				elevation: 50,
				acceleration: !isChrome(),
				autoCenter: true,
				gradients: true,
				duration: 1000,
				pages: 112,
				when: {
					turning: function (e, page, view) {

						var book = $(this),
							currentPage = book.turn('page'),
							pages = book.turn('pages');

						if (currentPage > 3 && currentPage < pages - 3) {

							if (page == 1) {
								// alert('curr page 1');
								book.turn('page', 2).turn('stop').turn('page', page);
								e.preventDefault();
								return;
							} else if (page == pages) {
								book.turn('page', pages - 1).turn('stop').turn('page', page);
								e.preventDefault();
								return;
							}
						} else if (page > 3 && page < pages - 3) {
							if (currentPage == 1) {
								// alert('page 1');
								book.turn('page', 2).turn('stop').turn('page', page);
								e.preventDefault();
								return;
							} else if (currentPage == pages) {
								book.turn('page', pages - 1).turn('stop').turn('page', page);
								e.preventDefault();
								return;
							}
						}

						updateDepth(book, page);

						if (page >= 2)
							$('.sj-book .p2').addClass('fixed');
						else
							$('.sj-book .p2').removeClass('fixed');

						if (page < book.turn('pages'))
							$('.sj-book .p111').addClass('fixed');
						else
							$('.sj-book .p111').removeClass('fixed');

						Hash.go('page/' + page).update();

					},

					turned: function (e, page, view) {

						var book = $(this);

						if (page == 2 || page == 3) {
							book.turn('peel', 'br');
						}

						updateDepth(book);

						$('#slider').slider('value', getViewNumber(book, page));

						book.turn('center');

					},

					start: function (e, pageObj) {

						moveBar(true);

					},

					end: function (e, pageObj) {

						var book = $(this);

						updateDepth(book);

						setTimeout(function () {

							$('#slider').slider('value', getViewNumber(book));

						}, 1);

						moveBar(false);

					},

					missing: function (e, pages) {

						for (var i = 0; i < pages.length; i++) {

							addPage(pages[i], $(this));
						}

					}
				}
			});


			$('#slider').slider('option', 'max', numberOfViews(flipbook));

			flipbook.addClass('animated');

			// Show canvas

			$('#canvas').css({ visibility: '' });
		}

		// Hide canvas

		$('#canvas').css({ visibility: 'hidden' });

		// Load turn.js

		yepnope({
			test: Modernizr.csstransforms,
			yep: ['./lib/turn.min.js'],
			nope: ['./lib/turn.html4.min.js', 'css/jquery.ui.html4.css', 'css/steve-jobs-html4.css'],
			both: ['js/steve-jobs.js', 'css/jquery.ui.css', 'css/steve-jobs.css'],
			complete: loadApp
		});

	</script>

<!-- Google Analytics: change UA-XXXXX-X to be your site's ID -->
<script>
		(function (i, s, o, g, r, a, m) {
			i['GoogleAnalyticsObject'] = r;
			i[r] = i[r] || function () {
				(i[r].q = i[r].q || []).push(arguments)
			}, i[r].l = 1 * new Date();
			a = s.createElement(o),
				m = s.getElementsByTagName(o)[0];
			a.async = 1;
			a.src = g;
			m.parentNode.insertBefore(a, m)
		})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
		ga('create', 'UA-93747647-1', 'auto');
		ga('send', 'pageview', {
		'page': location.pathname + location.search + location.hash
		});



</script>

</body>

</html>